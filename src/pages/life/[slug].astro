---
import { getCollection} from "astro:content";
import BaseLayout from '../../layouts/BaseLayout.astro'

export async function getStaticPaths() {
    const allPosts = await getCollection("life");
    return allPosts.map((entry) => ({
        params: {slug: entry.slug},
        props: {entry},
    })
)
};

const { entry } = Astro.props;
const { Content } = await entry.render();
---
<!-- TODO: This should really be in its own layout file -->
<BaseLayout pageTitle={entry.data.title}>
<p>Published: {entry.data.date}</p>
<p>Written by: {entry.data.author}</p>
<slot/>
<Content/>
</BaseLayout>